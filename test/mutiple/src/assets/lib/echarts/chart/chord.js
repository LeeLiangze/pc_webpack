define("echarts/chart/chord",["require","./base","zrender/shape/Text","zrender/shape/Line","zrender/shape/Sector","../util/shape/Ribbon","../util/shape/Icon","zrender/shape/BezierCurve","../config","../util/ecData","zrender/tool/util","zrender/tool/vector","../data/Graph","../layout/Chord","../chart"],function(e){"use strict";function t(e,t,r,a,s){i.call(this,e,t,r,a,s),this.scaleLineLength=4,this.scaleUnitAngle=4,this.refresh(a)}var i=e("./base"),r=e("zrender/shape/Text"),a=e("zrender/shape/Line"),s=e("zrender/shape/Sector"),o=e("../util/shape/Ribbon"),n=e("../util/shape/Icon"),h=e("zrender/shape/BezierCurve"),d=e("../config");d.chord={zlevel:0,z:2,clickable:!0,radius:["65%","75%"],center:["50%","50%"],padding:2,sort:"none",sortSub:"none",startAngle:90,clockWise:!0,ribbonType:!0,minRadius:10,maxRadius:20,symbol:"circle",showScale:!1,showScaleText:!1,itemStyle:{normal:{borderWidth:0,borderColor:"#000",label:{show:!0,rotate:!1,distance:5},chordStyle:{width:1,color:"black",borderWidth:1,borderColor:"#999",opacity:.5}},emphasis:{borderWidth:0,borderColor:"#000",chordStyle:{width:1,color:"black",borderWidth:1,borderColor:"#999"}}}};var l=e("../util/ecData"),u=e("zrender/tool/util"),c=e("zrender/tool/vector"),g=e("../data/Graph"),p=e("../layout/Chord");return t.prototype={type:d.CHART_TYPE_CHORD,_init:function(){var e=this.series;this.selectedMap={};for(var t={},i={},r=0,a=e.length;a>r;r++)if(e[r].type===this.type){var s=this.isSelected(e[r].name);this.selectedMap[e[r].name]=s,s&&this.buildMark(r),this.reformOption(e[r]),t[e[r].name]=e[r]}for(var r=0,a=e.length;a>r;r++)if(e[r].type===this.type)if(e[r].insertToSerie){var o=t[e[r].insertToSerie];e[r]._referenceSerie=o}else i[e[r].name]=[e[r]];for(var r=0,a=e.length;a>r;r++)if(e[r].type===this.type&&e[r].insertToSerie){for(var n=e[r]._referenceSerie;n&&n._referenceSerie;)n=n._referenceSerie;i[n.name]&&this.selectedMap[e[r].name]&&i[n.name].push(e[r])}for(var h in i)this._buildChords(i[h]);this.addShapeList()},_getNodeCategory:function(e,t){return e.categories&&e.categories[t.category||0]},_getNodeQueryTarget:function(e,t){var i=this._getNodeCategory(e,t);return[t,i,e]},_getEdgeQueryTarget:function(e,t,i){return i=i||"normal",[t.itemStyle&&t.itemStyle[i],e.itemStyle[i].chordStyle]},_buildChords:function(e){for(var t=[],i=e[0],r=function(e){return e.layout.size>0},a=function(e){return function(t){return e.getEdge(t.node2,t.node1)}},s=0;s<e.length;s++){var o=e[s];if(this.selectedMap[o.name]){var n;o.matrix?n=this._getSerieGraphFromDataMatrix(o,i):o.links&&(n=this._getSerieGraphFromNodeLinks(o,i)),n.filterNode(r,this),o.ribbonType&&n.filterEdge(a(n)),t.push(n),n.__serie=o}}if(t.length){var h=t[0];if(!i.ribbonType){var d=i.minRadius,l=i.maxRadius,u=1/0,c=-(1/0);h.eachNode(function(e){c=Math.max(e.layout.size,c),u=Math.min(e.layout.size,u)});var g=(l-d)/(c-u);h.eachNode(function(e){var t=this._getNodeQueryTarget(i,e),r=this.query(t,"symbolSize");e.layout.size=c===u?r||u:r||(e.layout.size-u)*g+d},this)}var y=new p;y.clockWise=i.clockWise,y.startAngle=i.startAngle*Math.PI/180,y.clockWise||(y.startAngle=-y.startAngle),y.padding=i.padding*Math.PI/180,y.sort=i.sort,y.sortSub=i.sortSub,y.directed=i.ribbonType,y.run(t);var f=this.query(i,"itemStyle.normal.label.show");if(i.ribbonType){this._buildSectors(i,0,h,i,t),f&&this._buildLabels(i,0,h,i,t);for(var s=0,v=0;s<e.length;s++)this.selectedMap[e[s].name]&&this._buildRibbons(e,s,t[v++],i);i.showScale&&this._buildScales(i,0,h)}else{this._buildNodeIcons(i,0,h,i,t),f&&this._buildLabels(i,0,h,i,t);for(var s=0,v=0;s<e.length;s++)this.selectedMap[e[s].name]&&this._buildEdgeCurves(e,s,t[v++],i,h)}this._initHoverHandler(e,t)}},_getSerieGraphFromDataMatrix:function(e,t){for(var i=[],r=0,a=[],s=0;s<e.matrix.length;s++)a[s]=e.matrix[s].slice();for(var o=e.data||e.nodes,s=0;s<o.length;s++){var n={},h=o[s];h.rawIndex=s;for(var d in h)"name"===d?n.id=h.name:n[d]=h[d];var l=this._getNodeCategory(t,h),u=l?l.name:h.name;if(this.selectedMap[u]=this.isSelected(u),this.selectedMap[u])i.push(n),r++;else{a.splice(r,1);for(var c=0;c<a.length;c++)a[c].splice(r,1)}}var p=g.fromMatrix(i,a,!0);return p.eachNode(function(e){e.layout={size:e.data.outValue},e.rawIndex=e.data.rawIndex}),p.eachEdge(function(e){e.layout={weight:e.data.weight}}),p},_getSerieGraphFromNodeLinks:function(e,t){for(var i=new g((!0)),r=e.data||e.nodes,a=0,s=r.length;s>a;a++){var o=r[a];if(o&&!o.ignore){var n=this._getNodeCategory(t,o),h=n?n.name:o.name;if(this.selectedMap[h]=this.isSelected(h),this.selectedMap[h]){var d=i.addNode(o.name,o);d.rawIndex=a}}}for(var a=0,s=e.links.length;s>a;a++){var l=e.links[a],u=l.source,c=l.target;"number"==typeof u&&(u=r[u],u&&(u=u.name)),"number"==typeof c&&(c=r[c],c&&(c=c.name));var p=i.addEdge(u,c,l);p&&(p.rawIndex=a)}return i.eachNode(function(e){var i=e.data.value;if(null==i)if(i=0,t.ribbonType)for(var r=0;r<e.outEdges.length;r++)i+=e.outEdges[r].data.weight||0;else for(var r=0;r<e.edges.length;r++)i+=e.edges[r].data.weight||0;e.layout={size:i}}),i.eachEdge(function(e){e.layout={weight:null==e.data.weight?1:e.data.weight}}),i},_initHoverHandler:function(e,t){var i=e[0],r=t[0],a=this;r.eachNode(function(e){e.shape.onmouseover=function(){r.eachNode(function(e){e.shape.style.opacity=.1,e.labelShape&&(e.labelShape.style.opacity=.1,e.labelShape.modSelf()),e.shape.modSelf()});for(var i=0;i<t.length;i++)for(var s=0;s<t[i].edges.length;s++){var o=t[i].edges[s],n=a._getEdgeQueryTarget(t[i].__serie,o.data);o.shape.style.opacity=.1*a.deepQuery(n,"opacity"),o.shape.modSelf()}e.shape.style.opacity=1,e.labelShape&&(e.labelShape.style.opacity=1);for(var i=0;i<t.length;i++){var h=t[i].getNodeById(e.id);if(h)for(var s=0;s<h.outEdges.length;s++){var o=h.outEdges[s],n=a._getEdgeQueryTarget(t[i].__serie,o.data);o.shape.style.opacity=a.deepQuery(n,"opacity");var d=t[0].getNodeById(o.node2.id);d&&(d.shape&&(d.shape.style.opacity=1),d.labelShape&&(d.labelShape.style.opacity=1))}}a.zr.refreshNextFrame()},e.shape.onmouseout=function(){r.eachNode(function(e){e.shape.style.opacity=1,e.labelShape&&(e.labelShape.style.opacity=1,e.labelShape.modSelf()),e.shape.modSelf()});for(var e=0;e<t.length;e++)for(var s=0;s<t[e].edges.length;s++){var o=t[e].edges[s],n=[o.data,i];o.shape.style.opacity=a.deepQuery(n,"itemStyle.normal.chordStyle.opacity"),o.shape.modSelf()}a.zr.refreshNextFrame()}})},_buildSectors:function(e,t,i,r){var a=this.parseCenter(this.zr,r.center),o=this.parseRadius(this.zr,r.radius),n=r.clockWise,h=n?1:-1;i.eachNode(function(i){var d=this._getNodeCategory(r,i.data),u=this.getColor(d?d.name:i.id),c=i.layout.startAngle/Math.PI*180*h,g=i.layout.endAngle/Math.PI*180*h,p=new s({zlevel:e.zlevel,z:e.z,style:{x:a[0],y:a[1],r0:o[0],r:o[1],startAngle:c,endAngle:g,brushType:"fill",opacity:1,color:u,clockWise:n},clickable:r.clickable,highlightStyle:{brushType:"fill"}});p.style.lineWidth=this.deepQuery([i.data,r],"itemStyle.normal.borderWidth"),p.highlightStyle.lineWidth=this.deepQuery([i.data,r],"itemStyle.emphasis.borderWidth"),p.style.strokeColor=this.deepQuery([i.data,r],"itemStyle.normal.borderColor"),p.highlightStyle.strokeColor=this.deepQuery([i.data,r],"itemStyle.emphasis.borderColor"),p.style.lineWidth>0&&(p.style.brushType="both"),p.highlightStyle.lineWidth>0&&(p.highlightStyle.brushType="both"),l.pack(p,e,t,i.data,i.rawIndex,i.id,i.category),this.shapeList.push(p),i.shape=p},this)},_buildNodeIcons:function(e,t,i,r){var a=this.parseCenter(this.zr,r.center),s=this.parseRadius(this.zr,r.radius),o=s[1];i.eachNode(function(i){var s=i.layout.startAngle,h=i.layout.endAngle,d=(s+h)/2,u=o*Math.cos(d),c=o*Math.sin(d),g=this._getNodeQueryTarget(r,i.data),p=this._getNodeCategory(r,i.data),y=this.deepQuery(g,"itemStyle.normal.color");y||(y=this.getColor(p?p.name:i.id));var f=new n({zlevel:e.zlevel,z:e.z+1,style:{x:-i.layout.size,y:-i.layout.size,width:2*i.layout.size,height:2*i.layout.size,iconType:this.deepQuery(g,"symbol"),color:y,brushType:"both",lineWidth:this.deepQuery(g,"itemStyle.normal.borderWidth"),strokeColor:this.deepQuery(g,"itemStyle.normal.borderColor")},highlightStyle:{color:this.deepQuery(g,"itemStyle.emphasis.color"),lineWidth:this.deepQuery(g,"itemStyle.emphasis.borderWidth"),strokeColor:this.deepQuery(g,"itemStyle.emphasis.borderColor")},clickable:r.clickable,position:[u+a[0],c+a[1]]});l.pack(f,e,t,i.data,i.rawIndex,i.id,i.category),this.shapeList.push(f),i.shape=f},this)},_buildLabels:function(e,t,i,a){var s=this.query(a,"itemStyle.normal.label.rotate"),o=this.query(a,"itemStyle.normal.label.distance"),n=this.parseCenter(this.zr,a.center),h=this.parseRadius(this.zr,a.radius),d=a.clockWise,l=d?1:-1;i.eachNode(function(t){var i=t.layout.startAngle/Math.PI*180*l,d=t.layout.endAngle/Math.PI*180*l,u=(i*-l+d*-l)/2;u%=360,0>u&&(u+=360);var g=90>=u||u>=270;u=u*Math.PI/180;var p=[Math.cos(u),-Math.sin(u)],y=0;y=a.ribbonType?a.showScaleText?35+o:o:o+t.layout.size;var f=c.scale([],p,h[1]+y);c.add(f,f,n);var v={zlevel:e.zlevel,z:e.z+1,hoverable:!1,style:{text:null==t.data.label?t.id:t.data.label,textAlign:g?"left":"right"}};s?(v.rotation=g?u:Math.PI+u,v.style.x=g?h[1]+y:-h[1]-y,v.style.y=0,v.position=n.slice()):(v.style.x=f[0],v.style.y=f[1]),v.style.color=this.deepQuery([t.data,a],"itemStyle.normal.label.textStyle.color")||"#000000",v.style.textFont=this.getFont(this.deepQuery([t.data,a],"itemStyle.normal.label.textStyle")),v=new r(v),this.shapeList.push(v),t.labelShape=v},this)},_buildRibbons:function(e,t,i,r){var a=e[t],s=this.parseCenter(this.zr,r.center),n=this.parseRadius(this.zr,r.radius);i.eachEdge(function(h,d){var u,c=i.getEdge(h.node2,h.node1);if(c&&!h.shape){if(c.shape)return void(h.shape=c.shape);var g=h.layout.startAngle/Math.PI*180,p=h.layout.endAngle/Math.PI*180,y=c.layout.startAngle/Math.PI*180,f=c.layout.endAngle/Math.PI*180;u=this.getColor(1===e.length?h.layout.weight<=c.layout.weight?h.node1.id:h.node2.id:a.name);var v,b,m=this._getEdgeQueryTarget(a,h.data),S=this._getEdgeQueryTarget(a,h.data,"emphasis"),z=new o({zlevel:a.zlevel,z:a.z,style:{x:s[0],y:s[1],r:n[0],source0:g,source1:p,target0:y,target1:f,brushType:"both",opacity:this.deepQuery(m,"opacity"),color:u,lineWidth:this.deepQuery(m,"borderWidth"),strokeColor:this.deepQuery(m,"borderColor"),clockWise:r.clockWise},clickable:r.clickable,highlightStyle:{brushType:"both",opacity:this.deepQuery(S,"opacity"),lineWidth:this.deepQuery(S,"borderWidth"),strokeColor:this.deepQuery(S,"borderColor")}});h.layout.weight<=c.layout.weight?(v=c.node1,b=c.node2):(v=h.node1,b=h.node2),l.pack(z,a,t,h.data,null==h.rawIndex?d:h.rawIndex,h.data.name||v.id+"-"+b.id,v.id,b.id),this.shapeList.push(z),h.shape=z}},this)},_buildEdgeCurves:function(e,t,i,r,a){var s=e[t],o=this.parseCenter(this.zr,r.center);i.eachEdge(function(e,i){var r=a.getNodeById(e.node1.id),n=a.getNodeById(e.node2.id),d=r.shape,u=n.shape,c=this._getEdgeQueryTarget(s,e.data),g=this._getEdgeQueryTarget(s,e.data,"emphasis"),p=new h({zlevel:s.zlevel,z:s.z,style:{xStart:d.position[0],yStart:d.position[1],xEnd:u.position[0],yEnd:u.position[1],cpX1:o[0],cpY1:o[1],lineWidth:this.deepQuery(c,"width"),strokeColor:this.deepQuery(c,"color"),opacity:this.deepQuery(c,"opacity")},highlightStyle:{lineWidth:this.deepQuery(g,"width"),strokeColor:this.deepQuery(g,"color"),opacity:this.deepQuery(g,"opacity")}});l.pack(p,s,t,e.data,null==e.rawIndex?i:e.rawIndex,e.data.name||e.node1.id+"-"+e.node2.id,e.node1.id,e.node2.id),this.shapeList.push(p),e.shape=p},this)},_buildScales:function(e,t,i){var s,o,n=e.clockWise,h=this.parseCenter(this.zr,e.center),d=this.parseRadius(this.zr,e.radius),l=n?1:-1,u=0,g=-(1/0);e.showScaleText&&(i.eachNode(function(e){var t=e.data.value;t>g&&(g=t),u+=t}),g>1e10?(s="b",o=1e-9):g>1e7?(s="m",o=1e-6):g>1e4?(s="k",o=.001):(s="",o=1));var p=u/(360-e.padding);i.eachNode(function(t){for(var i=t.layout.startAngle/Math.PI*180,u=t.layout.endAngle/Math.PI*180,g=i;!(n&&g>u||!n&&u>g);){var y=g/180*Math.PI,f=[Math.cos(y),Math.sin(y)],v=c.scale([],f,d[1]+1);c.add(v,v,h);var b=c.scale([],f,d[1]+this.scaleLineLength);c.add(b,b,h);var m=new a({zlevel:e.zlevel,z:e.z-1,hoverable:!1,style:{xStart:v[0],yStart:v[1],xEnd:b[0],yEnd:b[1],lineCap:"round",brushType:"stroke",strokeColor:"#666",lineWidth:1}});this.shapeList.push(m),g+=l*this.scaleUnitAngle}if(e.showScaleText)for(var S=i,z=5*p*this.scaleUnitAngle,_=0;!(n&&S>u||!n&&u>S);){var y=S;y%=360,0>y&&(y+=360);var M=90>=y||y>=270,x=new r({zlevel:e.zlevel,z:e.z-1,hoverable:!1,style:{x:M?d[1]+this.scaleLineLength+4:-d[1]-this.scaleLineLength-4,y:0,text:Math.round(10*_)/10+s,textAlign:M?"left":"right"},position:h.slice(),rotation:M?[-y/180*Math.PI,0,0]:[-(y+180)/180*Math.PI,0,0]});this.shapeList.push(x),_+=z*o,S+=l*this.scaleUnitAngle*5}},this)},refresh:function(e){if(e&&(this.option=e,this.series=e.series),this.legend=this.component.legend,this.legend)this.getColor=function(e){return this.legend.getColor(e)},this.isSelected=function(e){return this.legend.isSelected(e)};else{var t={},i=0;this.getColor=function(e){return t[e]?t[e]:(t[e]||(t[e]=this.zr.getColor(i++)),t[e])},this.isSelected=function(){return!0}}this.backupShapeList(),this._init()},reformOption:function(e){var t=u.merge;e=t(t(e||{},this.ecTheme.chord),d.chord),e.itemStyle.normal.label.textStyle=this.getTextStyle(e.itemStyle.normal.label.textStyle),this.z=e.z,this.zlevel=e.zlevel}},u.inherits(t,i),e("../chart").define("chord",t),t}),define("echarts/util/shape/Ribbon",["require","zrender/shape/Base","zrender/shape/util/PathProxy","zrender/tool/util","zrender/tool/area"],function(e){function t(e){i.call(this,e),this._pathProxy=new r}var i=e("zrender/shape/Base"),r=e("zrender/shape/util/PathProxy"),a=e("zrender/tool/util"),s=e("zrender/tool/area");return t.prototype={type:"ribbon",buildPath:function(e,t){var i=t.clockWise||!1,r=this._pathProxy;r.begin(e);var a=t.x,s=t.y,o=t.r,n=t.source0/180*Math.PI,h=t.source1/180*Math.PI,d=t.target0/180*Math.PI,l=t.target1/180*Math.PI,u=a+Math.cos(n)*o,c=s+Math.sin(n)*o,g=a+Math.cos(h)*o,p=s+Math.sin(h)*o,y=a+Math.cos(d)*o,f=s+Math.sin(d)*o,v=a+Math.cos(l)*o,b=s+Math.sin(l)*o;r.moveTo(u,c),r.arc(a,s,t.r,n,h,!i),r.bezierCurveTo(.7*(a-g)+g,.7*(s-p)+p,.7*(a-y)+y,.7*(s-f)+f,y,f),(t.source0!==t.target0||t.source1!==t.target1)&&(r.arc(a,s,t.r,d,l,!i),r.bezierCurveTo(.7*(a-v)+v,.7*(s-b)+b,.7*(a-u)+u,.7*(s-c)+c,u,c))},getRect:function(e){return e.__rect?e.__rect:(this._pathProxy.isEmpty()||this.buildPath(null,e),this._pathProxy.fastBoundingRect())},isCover:function(e,t){var i=this.getRect(this.style);return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height?s.isInsidePath(this._pathProxy.pathCommands,0,"fill",e,t):void 0}},a.inherits(t,i),t}),define("echarts/data/Graph",["require","zrender/tool/util"],function(e){var t=e("zrender/tool/util"),i=function(e){this._directed=e||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={}};i.prototype.isDirected=function(){return this._directed},i.prototype.addNode=function(e,t){if(this._nodesMap[e])return this._nodesMap[e];var r=new i.Node(e,t);return this.nodes.push(r),this._nodesMap[e]=r,r},i.prototype.getNodeById=function(e){return this._nodesMap[e]},i.prototype.addEdge=function(e,t,r){if("string"==typeof e&&(e=this._nodesMap[e]),"string"==typeof t&&(t=this._nodesMap[t]),e&&t){var a=e.id+"-"+t.id;if(this._edgesMap[a])return this._edgesMap[a];var s=new i.Edge(e,t,r);return this._directed&&(e.outEdges.push(s),t.inEdges.push(s)),e.edges.push(s),e!==t&&t.edges.push(s),this.edges.push(s),this._edgesMap[a]=s,s}},i.prototype.removeEdge=function(e){var i=e.node1,r=e.node2,a=i.id+"-"+r.id;this._directed&&(i.outEdges.splice(t.indexOf(i.outEdges,e),1),r.inEdges.splice(t.indexOf(r.inEdges,e),1)),i.edges.splice(t.indexOf(i.edges,e),1),i!==r&&r.edges.splice(t.indexOf(r.edges,e),1),delete this._edgesMap[a],this.edges.splice(t.indexOf(this.edges,e),1)},i.prototype.getEdge=function(e,t){return"string"!=typeof e&&(e=e.id),"string"!=typeof t&&(t=t.id),this._directed?this._edgesMap[e+"-"+t]:this._edgesMap[e+"-"+t]||this._edgesMap[t+"-"+e]},i.prototype.removeNode=function(e){if("string"!=typeof e||(e=this._nodesMap[e])){delete this._nodesMap[e.id],this.nodes.splice(t.indexOf(this.nodes,e),1);for(var i=0;i<this.edges.length;){var r=this.edges[i];r.node1===e||r.node2===e?this.removeEdge(r):i++}}},i.prototype.filterNode=function(e,t){for(var i=this.nodes.length,r=0;i>r;)e.call(t,this.nodes[r],r)?r++:(this.removeNode(this.nodes[r]),i--)},i.prototype.filterEdge=function(e,t){for(var i=this.edges.length,r=0;i>r;)e.call(t,this.edges[r],r)?r++:(this.removeEdge(this.edges[r]),i--)},i.prototype.eachNode=function(e,t){for(var i=this.nodes.length,r=0;i>r;r++)this.nodes[r]&&e.call(t,this.nodes[r],r)},i.prototype.eachEdge=function(e,t){for(var i=this.edges.length,r=0;i>r;r++)this.edges[r]&&e.call(t,this.edges[r],r)},i.prototype.clear=function(){this.nodes.length=0,this.edges.length=0,this._nodesMap={},this._edgesMap={}},i.prototype.breadthFirstTraverse=function(e,t,i,r){if("string"==typeof t&&(t=this._nodesMap[t]),t){var a="edges";"out"===i?a="outEdges":"in"===i&&(a="inEdges");for(var s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(r,t,null))for(var o=[t];o.length;)for(var n=o.shift(),h=n[a],s=0;s<h.length;s++){var d=h[s],l=d.node1===n?d.node2:d.node1;if(!l.__visited){if(e.call(l,l,n))return;o.push(l),l.__visited=!0}}}},i.prototype.clone=function(){for(var e=new i(this._directed),t=0;t<this.nodes.length;t++)e.addNode(this.nodes[t].id,this.nodes[t].data);for(var t=0;t<this.edges.length;t++){var r=this.edges[t];e.addEdge(r.node1.id,r.node2.id,r.data)}return e};var r=function(e,t){this.id=e,this.data=t||null,this.inEdges=[],this.outEdges=[],this.edges=[]};r.prototype.degree=function(){return this.edges.length},r.prototype.inDegree=function(){return this.inEdges.length},r.prototype.outDegree=function(){return this.outEdges.length};var a=function(e,t,i){this.node1=e,this.node2=t,this.data=i||null};return i.Node=r,i.Edge=a,i.fromMatrix=function(e,t,r){if(t&&t.length&&t[0].length===t.length&&e.length===t.length){for(var a=t.length,s=new i(r),o=0;a>o;o++){var n=s.addNode(e[o].id,e[o]);n.data.value=0,r&&(n.data.outValue=n.data.inValue=0)}for(var o=0;a>o;o++)for(var h=0;a>h;h++){var d=t[o][h];r&&(s.nodes[o].data.outValue+=d,s.nodes[h].data.inValue+=d),s.nodes[o].data.value+=d,s.nodes[h].data.value+=d}for(var o=0;a>o;o++)for(var h=o;a>h;h++){var d=t[o][h];if(0!==d){var l=s.nodes[o],u=s.nodes[h],c=s.addEdge(l,u,{});if(c.data.weight=d,o!==h&&r&&t[h][o]){var g=s.addEdge(u,l,{});g.data.weight=t[h][o]}}}return s}},i}),define("echarts/layout/Chord",["require"],function(){var e=function(e){e=e||{},this.sort=e.sort||null,this.sortSub=e.sortSub||null,this.padding=.05,this.startAngle=e.startAngle||0,this.clockWise=null!=e.clockWise&&e.clockWise,this.center=e.center||[0,0],this.directed=!0};e.prototype.run=function(e){e instanceof Array||(e=[e]);var r=e.length;if(r){for(var a=e[0],s=a.nodes.length,o=[],n=0,h=0;s>h;h++){var d=a.nodes[h],l={size:0,subGroups:[],node:d};o.push(l);for(var u=0,c=0;c<e.length;c++){var g=e[c],p=g.getNodeById(d.id);if(p){l.size+=p.layout.size;for(var y=this.directed?p.outEdges:p.edges,f=0;f<y.length;f++){var v=y[f],b=v.layout.weight;l.subGroups.push({weight:b,edge:v,graph:g}),u+=b}}}n+=l.size;for(var m=l.size/u,f=0;f<l.subGroups.length;f++)l.subGroups[f].weight*=m;"ascending"===this.sortSub?l.subGroups.sort(t):"descending"===this.sort&&(l.subGroups.sort(t),l.subGroups.reverse())}"ascending"===this.sort?o.sort(i):"descending"===this.sort&&(o.sort(i),o.reverse());for(var m=(2*Math.PI-this.padding*s)/n,S=this.startAngle,z=this.clockWise?1:-1,h=0;s>h;h++){var l=o[h];l.node.layout.startAngle=S,l.node.layout.endAngle=S+z*l.size*m,l.node.layout.subGroups=[];for(var f=0;f<l.subGroups.length;f++){var _=l.subGroups[f];_.edge.layout.startAngle=S,S+=z*_.weight*m,_.edge.layout.endAngle=S}S=l.node.layout.endAngle+z*this.padding}}};var t=function(e,t){return e.weight-t.weight},i=function(e,t){return e.size-t.size};return e});